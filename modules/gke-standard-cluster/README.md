# GKE Standard Cluster

This submodule creates basic a [private cluster](https://cloud.google.com/kubernetes-engine/docs/how-to/private-clusters). Beta features are enabled in this submodule.

For a module with a complete configuration of a Google Cloud Platform Kubernetes Engine private cluster including GKE cluster, GKE Node Pool(s), DNS configuration, IP masq, Service account creation, and Firewall configuration see the module [beta-private-cluster](../beta-private-cluster/README.md).

<!-- BEGINNING OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| addons\_config | The configuration for addons supported by GKE. | <pre>object({<br>    http_load_balancing = optional(object({<br>      disabled = optional(bool)<br>    }))<br>    horizontal_pod_autoscaling = optional(object({<br>      disabled = optional(bool)<br>    }))<br>    network_policy_config = optional(object({<br>      disabled = optional(bool)<br>    }))<br>    istio_config = optional(object({<br>      disabled = optional(bool)<br>      auth     = optional(string)<br>    }))<br>    dns_cache_config = optional(object({<br>      enabled = optional(bool)<br>    }))<br>    config_connector_config = optional(object({<br>      enabled = optional(bool)<br>    }))<br>    gce_persistent_disk_csi_driver_config = optional(object({<br>      enabled = optional(bool)<br>    }))<br>    kalm_config = optional(object({<br>      enabled = optional(bool)<br>    }))<br>    gcp_filestore_csi_driver_config = optional(object({<br>      enabled = optional(bool)<br>    }))<br>    gke_backup_agent_config = optional(object({<br>      enabled = optional(bool)<br>    }))<br>    gcs_fuse_csi_driver_config = optional(object({<br>      enabled = optional(bool)<br>    }))<br>    stateful_ha_config = optional(object({<br>      enabled = optional(bool)<br>    }))<br>    parallelstore_csi_driver_config = optional(object({<br>      enabled = optional(bool)<br>    }))<br>    ray_operator_config = optional(object({<br>      enabled = optional(bool)<br>      ray_cluster_logging_config = optional(object({<br>        enabled = optional(bool)<br>      }))<br>      ray_cluster_monitoring_config = optional(object({<br>        enabled = optional(bool)<br>      }))<br>    }))<br>  })</pre> | `null` | no |
| authenticator\_groups\_config | Configuration for the Google Groups for GKE feature. The name of the RBAC security group for use with Google security groups in Kubernetes RBAC. Group name must be in format gke-security-groups@yourdomain.com. | <pre>object({<br>    security_group = string<br>  })</pre> | `null` | no |
| binary\_authorization | Configuration options for the Binary Authorization feature. | <pre>object({<br>    evaluation_mode = optional(string)<br>  })</pre> | `null` | no |
| cluster\_autoscaling | Per-cluster configuration of Node Auto-Provisioning with Cluster Autoscaler to automatically adjust the size of the cluster and create/delete node pools based on the current needs of the cluster's workload. See the [guide to using Node Auto-Provisioning](https://cloud.google.com/kubernetes-engine/docs/how-to/node-auto-provisioning) for more details. | <pre>object({<br>    enabled = bool<br>    resource_limits = list(object({<br>      resource_type = string<br>      minimum       = optional(number)<br>      maximum       = number<br>    }))<br>    auto_provisioning_defaults = optional(object({<br>      min_cpu_platform  = optional(string)<br>      oauth_scopes      = optional(list(string))<br>      service_account   = optional(string)<br>      boot_disk_kms_key = optional(string)<br>      disk_size         = optional(number)<br>      disk_type         = optional(string)<br>      image_type        = optional(string)<br>      shielded_instance_config = optional(object({<br>        enable_secure_boot          = optional(bool)<br>        enable_integrity_monitoring = optional(bool)<br>      }))<br>      management = optional(object({<br>        auto_upgrade = optional(bool)<br>        auto_repair  = optional(bool)<br>      }))<br>      upgrade_settings = optional(object({<br>        strategy        = optional(string)<br>        max_surge       = optional(number)<br>        max_unavailable = optional(number)<br>        blue_green_settings = optional(object({<br>          node_pool_soak_duration = optional(string)<br>          standard_rollout_policy = optional(object({<br>            batch_percentage    = optional(number)<br>            batch_node_count    = optional(number)<br>            batch_soak_duration = optional(string)<br>          }))<br>        }))<br>      }))<br>    }))<br>    auto_provisioning_locations = list(string)<br>    autoscaling_profile         = string<br>  })</pre> | `null` | no |
| cluster\_ipv4\_cidr | The IP address range of the Kubernetes pods in this cluster in CIDR notation (e.g. 10.96.0.0/14). Leave blank to have one automatically chosen or specify a /14 block in 10.0.0.0/8. This field will only work for routes-based clusters, where ip\_allocation\_policy is not defined. | `string` | `null` | no |
| cluster\_telemetry | Configuration for ClusterTelemetry feature. Telemetry integration for the cluster. Supported values (ENABLED, DISABLED, SYSTEM\_ONLY); SYSTEM\_ONLY (Only system components are monitored and logged) is only available in GKE versions 1.15 and later. | <pre>object({<br>    type = string<br>  })</pre> | `null` | no |
| confidential\_nodes | Configuration for [Confidential Nodes](https://cloud.google.com/kubernetes-engine/docs/how-to/confidential-gke-nodes) feature. | <pre>object({<br>    enabled = bool<br>  })</pre> | `null` | no |
| control\_plane\_endpoints\_config | Configuration for all of the cluster's control plane endpoints. | <pre>object({<br>    dns_endpoint_config = optional(object({<br>      allow_external_traffic = optional(bool)<br>    }))<br>    ip_endpoints_config = optional(object({<br>      enabled = optional(bool)<br>    }))<br>  })</pre> | `null` | no |
| cost\_management\_config | The Cost Management configuration for the cluster. | <pre>object({<br>    enabled = optional(bool)<br>  })</pre> | `null` | no |
| database\_encryption | Application-layer Secrets Encryption settings. | <pre>object({<br>    state    = optional(string)<br>    key_name = optional(string)<br>  })</pre> | `null` | no |
| datapath\_provider | The desired datapath provider for this cluster. This is set to LEGACY\_DATAPATH by default, which uses the IPTables-based kube-proxy implementation. Set to ADVANCED\_DATAPATH to enable Dataplane v2. | `string` | `null` | no |
| default\_max\_pods\_per\_node | The default maximum number of pods per node in this cluster. This doesn't work on route-based clusters, clusters that don't have IP Aliasing enabled. | `number` | `110` | no |
| default\_snat\_status | [GKE SNAT](https://cloud.google.com/kubernetes-engine/docs/how-to/ip-masquerade-agent#how_ipmasq_works) DefaultSnatStatus contains the desired state of whether default sNAT should be disabled on the cluster, [API doc](https://cloud.google.com/kubernetes-engine/docs/reference/rest/v1beta1/projects.locations.clusters#networkconfig). In-node sNAT rules will be disabled when defaultSnatStatus is disabled.When disabled is set to false, default IP masquerade rules will be applied to the nodes to prevent sNAT on cluster internal traffic | <pre>object({<br>    disabled = bool<br>  })</pre> | `null` | no |
| deletion\_protection | Whether Terraform will be prevented from destroying the cluster. Deleting this cluster via terraform destroy or terraform apply will only succeed if this field is false in the Terraform state. | `bool` | `false` | no |
| description | Description of the cluster. | `string` | `null` | no |
| disable\_l4\_lb\_firewall\_reconciliation | If true, stops GKE from reconciling firewall rules for L4 ILB Services. | `bool` | `null` | no |
| dns\_config | Configuration for Cloud DNS for GKE. | <pre>object({<br>    additive_vpc_scope_dns_domain = optional(string)<br>    cluster_dns                   = optional(string)<br>    cluster_dns_scope             = optional(string)<br>    cluster_dns_domain            = optional(string)<br>  })</pre> | `null` | no |
| enable\_cilium\_clusterwide\_network\_policy | Enables Cilium-based GKE Dataplane V2 wide network policy. This feature is in public beta. | `bool` | `null` | no |
| enable\_fqdn\_network\_policy | Whether FQDN Network Policy is enabled on this cluster. | `bool` | `null` | no |
| enable\_intranode\_visibility | Whether Intra-node visibility is enabled for this cluster. This makes same node pod to pod traffic visible for VPC flow logs. | `bool` | `null` | no |
| enable\_k8s\_beta\_apis | Configuration for Kubernetes Beta APIs. | <pre>object({<br>    enabled_apis = list(string)<br>  })</pre> | `null` | no |
| enable\_kubernetes\_alpha | Whether to enable Kubernetes Alpha features for this cluster. Note that when this is true, the beta version of the GKE API will be used internally. | `bool` | `false` | no |
| enable\_l4\_ilb\_subsetting | Enables L4 ILB subsetting. L4 ILB subsetting can be used with clusters of all sizes. This feature is in public beta. | `bool` | `null` | no |
| enable\_legacy\_abac | Whether the ABAC authorizer is enabled for this cluster. When enabled, identities with the Kubernetes version of 'cluster-admin' role will have permissions to perform any action on any resource within the cluster. | `bool` | `null` | no |
| enable\_multi\_networking | Enable multi-networking for this cluster. This feature requires projects to have enabled GKE multi-networking series APIs. This feature is in public beta. | `bool` | `null` | no |
| enable\_shielded\_nodes | Enable Shielded Nodes features on all nodes in this cluster. Defaults to true. | `bool` | `null` | no |
| enable\_tpu | Whether to enable Cloud TPU resources in this cluster. | `bool` | `null` | no |
| enterprise\_config | Enterprise configuration for the cluster. Sets the tier of the cluster. Available options include STANDARD and ENTERPRISE. | <pre>object({<br>    desired_tier = string<br>  })</pre> | `null` | no |
| fleet | Fleet configuration for the cluster. The name of the Fleet host project where this cluster will be registered. | <pre>object({<br>    project = optional(string)<br>  })</pre> | `null` | no |
| gateway\_api\_config | Configuration for the Gateway API, which manages access to Kubernetes services. | <pre>object({<br>    channel = string<br>  })</pre> | `null` | no |
| identity\_service\_config | Whether to enable the Identity Service component. It is disabled by default. Set enabled=true to enable. | <pre>object({<br>    enabled = optional(bool)<br>  })</pre> | `null` | no |
| in\_transit\_encryption\_config | Defines the config of in-transit encryption. Valid values are `IN_TRANSIT_ENCRYPTION_DISABLED` and `IN_TRANSIT_ENCRYPTION_INTER_NODE_TRANSPARENT`. | `string` | `null` | no |
| initial\_node\_count | The number of nodes to create in this cluster's default node pool. In regional or multi-zonal clusters, this is the number of nodes per zone. Must be set if node\_pool is not specified. | `number` | `0` | no |
| ip\_allocation\_policy | Configuration of cluster IP allocation for VPC-native clusters. If this block is unset during creation, it will be set by the GKE backend. | <pre>object({<br>    cluster_secondary_range_name  = optional(string)<br>    services_secondary_range_name = optional(string)<br>    cluster_ipv4_cidr_block       = optional(string)<br>    services_ipv4_cidr_block      = optional(string)<br>    stack_type                    = optional(string)<br>    additional_pod_ranges_config = optional(object({<br>      pod_range_names = list(string)<br>    }))<br>  })</pre> | `null` | no |
| location | The location (region or zone) in which the cluster master will be created, as well as the default node location. If you specify a zone (such as us-central1-a), the cluster will be a zonal cluster with a single cluster master. If you specify a region (such as us-west1), the cluster will be a regional cluster with multiple masters spread across zones in the region, and with default node locations in those zones as well. | `string` | `null` | no |
| logging\_config | Logging configuration for the cluster. | <pre>object({<br>    enable_components = optional(list(string))<br>  })</pre> | `null` | no |
| logging\_service | The logging service that the cluster should write logs to. Available options include `logging.googleapis.com`, `logging.googleapis.com/kubernetes`, and `none`. | `string` | `null` | no |
| maintenance\_policy | The maintenance policy to use for the cluster. | <pre>object({<br>    daily_maintenance_window = optional(object({<br>      start_time = optional(string)<br>    }))<br>    recurring_window = optional(object({<br>      start_time = optional(string)<br>      end_time   = optional(string)<br>      recurrence = optional(string)<br>    }))<br>    maintenance_exclusion = optional(list(object({<br>      exclusion_name = optional(string)<br>      start_time     = optional(string)<br>      end_time       = optional(string)<br>      exclusion_options = optional(object({<br>        scope = optional(string)<br>      }))<br>    })))<br>  })</pre> | `null` | no |
| master\_auth | The authentication information for accessing the Kubernetes master. | <pre>object({<br>    client_certificate_config = optional(object({<br>      issue_client_certificate = optional(bool)<br>    }))<br>  })</pre> | `null` | no |
| master\_authorized\_networks\_config | The desired configuration options for master authorized networks. | <pre>object({<br>    cidr_blocks = optional(list(object({<br>      display_name = optional(string)<br>      cidr_block   = optional(string)<br>    })))<br>    gcp_public_cidrs_access_enabled      = optional(bool)<br>    private_endpoint_enforcement_enabled = optional(bool)<br>  })</pre> | `null` | no |
| mesh\_certificates | Configuration for the provisioning of managed mesh certificates. | <pre>object({<br>    enable_certificates = optional(bool)<br>  })</pre> | `null` | no |
| min\_master\_version | The minimum version of the master. GKE will auto-update the master to new versions, so this does not guarantee the master version--use the read-only master\_version field to obtain a current version. If unset, the server's default version will be used. | `string` | `null` | no |
| monitoring\_config | Monitoring configuration for the cluster. | <pre>object({<br>    enable_components = optional(list(string))<br>  })</pre> | `null` | no |
| monitoring\_service | The monitoring service that the cluster should write metrics to. Available options include `monitoring.googleapis.com`, `monitoring.googleapis.com/kubernetes`, and `none`. | `string` | `null` | no |
| name | The name of the cluster (required) | `string` | n/a | yes |
| network | The name or self\_link of the Google Compute Engine network to which the cluster is connected. For Shared VPC, this network must be in the host project. | `string` | `null` | no |
| network\_policy | Configuration options for the NetworkPolicy feature. | <pre>object({<br>    enabled  = optional(bool)<br>    provider = optional(string)<br>  })</pre> | `null` | no |
| node\_config | Parameters used in creating the default node pool. Generally, this field should not be used at the same time as a `google_container_node_pool` or a `node_pool` block; this configuration is inherited by the default node pool, and can conflict with configuration in the separate resource or block. | <pre>object({<br>    confidential_nodes = optional(object({<br>      enabled = bool<br>    }))<br>    disk_size_gb                = optional(number)<br>    disk_type                   = optional(string)<br>    enable_confidential_storage = optional(bool)<br>    local_ssd_encryption_mode   = optional(string)<br>    ephemeral_storage_config = optional(object({<br>      local_ssd_count = number<br>    }))<br>    ephemeral_storage_local_ssd_config = optional(object({<br>      local_ssd_count  = number<br>      data_cache_count = optional(number)<br>    }))<br>    fast_socket = optional(object({<br>      enabled = bool<br>    }))<br>    local_nvme_ssd_block_config = optional(object({<br>      local_ssd_count = number<br>    }))<br>    logging_variant = optional(string)<br>    secondary_boot_disks = optional(object({<br>      disk_image = string<br>      mode       = optional(string)<br>    }))<br>    gcfs_config = optional(object({<br>      enabled = bool<br>    }))<br>    gvnic = optional(object({<br>      enabled = bool<br>    }))<br>    guest_accelerator = optional(object({<br>      type  = string<br>      count = number<br>      gpu_driver_installation_config = optional(object({<br>        gpu_driver_version = string<br>      }))<br>      gpu_partition_size = optional(string)<br>      gpu_sharing_config = optional(object({<br>        gpu_sharing_strategy       = string<br>        max_shared_clients_per_gpu = number<br>      }))<br>    }))<br>    image_type       = optional(string)<br>    labels           = optional(map(string))<br>    resource_labels  = optional(map(string))<br>    max_run_duration = optional(string)<br>    flex_start       = optional(bool)<br>    local_ssd_count  = optional(number)<br>    machine_type     = optional(string)<br>    metadata         = optional(map(string))<br>    min_cpu_platform = optional(string)<br>    oauth_scopes     = optional(list(string))<br>    preemptible      = optional(bool)<br>    reservation_affinity = optional(object({<br>      consume_reservation_type = string<br>      key                      = optional(string)<br>      values                   = optional(list(string))<br>    }))<br>    spot = optional(bool)<br>    sandbox_config = optional(object({<br>      sandbox_type = string<br>    }))<br>    boot_disk_kms_key = optional(string)<br>    service_account   = optional(string)<br>    shielded_instance_config = optional(object({<br>      enable_secure_boot          = optional(bool)<br>      enable_integrity_monitoring = optional(bool)<br>    }))<br>    storage_pools         = optional(list(string))<br>    tags                  = optional(list(string))<br>    resource_manager_tags = optional(map(string))<br>    taint = optional(list(object({<br>      key    = string<br>      value  = string<br>      effect = string<br>    })))<br>    workload_metadata_config = optional(object({<br>      mode = optional(string)<br>    }))<br>    kubelet_config = optional(object({<br>      cpu_manager_policy                     = optional(string)<br>      cpu_cfs_quota                          = optional(bool)<br>      cpu_cfs_quota_period                   = optional(string)<br>      insecure_kubelet_readonly_port_enabled = optional(bool)<br>      pod_pids_limit                         = optional(number)<br>      container_log_max_size                 = optional(string)<br>      container_log_max_files                = optional(number)<br>      image_gc_low_threshold_percent         = optional(number)<br>      image_gc_high_threshold_percent        = optional(number)<br>      image_minimum_gc_age                   = optional(string)<br>      allowed_unsafe_sysctls                 = optional(list(string))<br>    }))<br>    linux_node_config = optional(object({<br>      sysctls     = optional(map(string))<br>      cgroup_mode = optional(string)<br>      hugepages_config = optional(object({<br>        hugepage_size_2m = optional(number)<br>        hugepage_size_1g = optional(number)<br>      }))<br>    }))<br>    windows_node_config = optional(object({<br>      osversion = string<br>    }))<br>    containerd_config = optional(object({<br>      private_registry_access_config = optional(object({<br>        enabled = bool<br>        certificate_authority_domain_config = optional(object({<br>          fqdns = list(string)<br>          gcp_secret_manager_certificate_config = object({<br>            secret_uri = string<br>          })<br>        }))<br>      }))<br>    }))<br>    node_group = optional(string)<br>    sole_tenant_config = optional(object({<br>      node_affinity = optional(object({<br>        key      = string<br>        operator = string<br>        values   = list(string)<br>      }))<br>    }))<br>  })</pre> | `null` | no |
| node\_locations | The list of zones in which the cluster's nodes are located. Nodes are created in the region's zones by default. This list must be a subset of the compute/zones in the region to which the cluster belongs. This field is optional for Zonal clusters and required for Regional clusters. | `list(string)` | `null` | no |
| node\_pool | List of node pools associated with this cluster. See google\_container\_node\_pool for schema. Warning: node pools defined inside a cluster can't be changed after creation without destroying and recreating the cluster. You should use google\_container\_node\_pool instead of this property. | <pre>list(object({<br>    cluster            = optional(string)<br>    project            = optional(string)<br>    location           = optional(string, null)<br>    name               = optional(string, null)<br>    name_prefix        = optional(string, null)<br>    node_count         = optional(number, 1)<br>    kubernetes_version = optional(string, null)<br>    node_locations     = optional(list(string), [])<br>    initial_node_count = optional(number, null)<br>    max_pods_per_node  = optional(number, null)<br><br>    autoscaling = optional(object({<br>      min_node_count       = optional(number)<br>      max_node_count       = optional(number)<br>      total_min_node_count = optional(number)<br>      total_max_node_count = optional(number)<br>      location_policy      = optional(string)<br>    }))<br><br>    management = optional(object({<br>      auto_repair  = optional(bool)<br>      auto_upgrade = optional(bool)<br>    }))<br><br>    node_config = optional(object({<br>      disk_size_gb                = optional(number)<br>      disk_type                   = optional(string)<br>      enable_confidential_storage = optional(bool)<br>      local_ssd_encryption_mode   = optional(string)<br>      image_type                  = optional(string)<br>      labels                      = optional(map(string))<br>      resource_labels             = optional(map(string))<br>      max_run_duration            = optional(string)<br>      flex_start                  = optional(bool)<br>      local_ssd_count             = optional(number)<br>      machine_type                = optional(string)<br>      metadata                    = optional(map(string))<br>      min_cpu_platform            = optional(string)<br>      oauth_scopes                = optional(list(string))<br>      preemptible                 = optional(bool)<br>      spot                        = optional(bool)<br>      boot_disk_kms_key           = optional(string)<br>      service_account             = optional(string)<br>      storage_pools               = optional(list(string))<br>      tags                        = optional(list(string))<br>      resource_manager_tags       = optional(map(string))<br>      node_group                  = optional(string)<br>      confidential_nodes = optional(object({<br>        enabled = bool<br>      }))<br>      ephemeral_storage_config = optional(object({<br>        local_ssd_count = number<br>      }))<br>      ephemeral_storage_local_ssd_config = optional(object({<br>        local_ssd_count  = number<br>        data_cache_count = optional(number)<br>      }))<br>      fast_socket = optional(object({<br>        enabled = bool<br>      }))<br>      local_nvme_ssd_block_config = optional(object({<br>        local_ssd_count = number<br>      }))<br>      logging_variant = optional(string)<br>      secondary_boot_disks = optional(object({<br>        disk_image = string<br>        mode       = optional(string)<br>      }))<br>      gcfs_config = optional(object({<br>        enabled = bool<br>      }))<br>      gvnic = optional(object({<br>        enabled = bool<br>      }))<br>      guest_accelerator = optional(object({<br>        type  = string<br>        count = number<br>        gpu_driver_installation_config = optional(object({<br>          gpu_driver_version = string<br>        }))<br>        gpu_partition_size = optional(string)<br>        gpu_sharing_config = optional(object({<br>          gpu_sharing_strategy       = string<br>          max_shared_clients_per_gpu = number<br>        }))<br>      }))<br>      reservation_affinity = optional(object({<br>        consume_reservation_type = string<br>        key                      = optional(string)<br>        values                   = optional(list(string))<br>      }))<br>      sandbox_config = optional(object({<br>        sandbox_type = string<br>      }))<br>      shielded_instance_config = optional(object({<br>        enable_secure_boot          = optional(bool)<br>        enable_integrity_monitoring = optional(bool)<br>      }))<br>      taint = optional(list(object({<br>        key    = string<br>        value  = string<br>        effect = string<br>      })))<br>      workload_metadata_config = optional(object({<br>        mode = optional(string)<br>      }))<br>      kubelet_config = optional(object({<br>        cpu_manager_policy                     = optional(string)<br>        cpu_cfs_quota                          = optional(bool)<br>        cpu_cfs_quota_period                   = optional(string)<br>        insecure_kubelet_readonly_port_enabled = optional(bool)<br>        pod_pids_limit                         = optional(number)<br>        container_log_max_size                 = optional(string)<br>        container_log_max_files                = optional(number)<br>        image_gc_low_threshold_percent         = optional(number)<br>        image_gc_high_threshold_percent        = optional(number)<br>        image_minimum_gc_age                   = optional(string)<br>        allowed_unsafe_sysctls                 = optional(list(string))<br>      }))<br>      linux_node_config = optional(object({<br>        sysctls     = optional(map(string))<br>        cgroup_mode = optional(string)<br>        hugepages_config = optional(object({<br>          hugepage_size_2m = optional(number)<br>          hugepage_size_1g = optional(number)<br>        }))<br>      }))<br>      windows_node_config = optional(object({<br>        osversion = string<br>      }))<br>      containerd_config = optional(object({<br>        private_registry_access_config = optional(object({<br>          enabled = bool<br>          certificate_authority_domain_config = optional(object({<br>            fqdns = list(string)<br>            gcp_secret_manager_certificate_config = object({<br>              secret_uri = string<br>            })<br>          }))<br>        }))<br>      }))<br>      sole_tenant_config = optional(object({<br>        node_affinity = optional(object({<br>          key      = string<br>          operator = string<br>          values   = list(string)<br>        }))<br>      }))<br>    }))<br><br>    network_config = optional(object({<br>      create_pod_range     = optional(bool)<br>      enable_private_nodes = optional(bool)<br>      pod_ipv4_cidr_block  = optional(string)<br>      pod_range            = optional(string)<br>      additional_node_network_configs = optional(object({<br>        network    = string<br>        subnetwork = string<br>      }))<br>      additional_pod_network_configs = optional(object({<br>        subnetwork          = string<br>        secondary_pod_range = string<br>        max_pods_per_node   = number<br>      }))<br>      pod_cidr_overprovision_config = optional(object({<br>        disabled = bool<br>      }))<br>      network_performance_config = optional(object({<br>        total_egress_bandwidth_tier = string<br>      }))<br>    }))<br><br>    upgrade_settings = optional(object({<br>      max_surge       = optional(number)<br>      max_unavailable = optional(number)<br>      strategy        = optional(string)<br>      blue_green_settings = optional(object({<br>        standard_rollout_policy = object({<br>          batch_percentage    = optional(number)<br>          batch_node_count    = optional(number)<br>          batch_soak_duration = optional(string)<br>        })<br>        node_pool_soak_duration = optional(string)<br>      }))<br>    }))<br><br>    placement_policy = optional(object({<br>      type         = string<br>      policy_name  = optional(string)<br>      tpu_topology = optional(string)<br>    }))<br><br>    queued_provisioning = optional(object({<br>      enabled = bool<br>    }))<br>  }))</pre> | `null` | no |
| node\_pool\_auto\_config | Node pool auto-configuration for the cluster. This block contains settings for managing Kubelet, resource manager tags, network tags, and Linux node configurations for automatically provisioned node pools. | <pre>object({<br>    node_kubelet_config = optional(object({<br>      insecure_kubelet_readonly_port_enabled = optional(bool)<br>    }))<br>    resource_manager_tags = optional(map(string))<br>    network_tags = optional(object({<br>      tags = optional(list(string))<br>    }))<br>    linux_node_config = optional(object({<br>      cgroup_mode = optional(string)<br>    }))<br>  })</pre> | <pre>{<br>  "node_kubelet_config": {<br>    "insecure_kubelet_readonly_port_enabled": false<br>  }<br>}</pre> | no |
| node\_pool\_defaults | Default NodePool settings for the entire cluster. These settings are overridden if specified on the specific NodePool object. | <pre>object({<br>    node_config_defaults = optional(object({<br>      insecure_kubelet_readonly_port_enabled = optional(bool)<br>      logging_variant                        = optional(string)<br>      gcfs_config = optional(object({<br>        enabled = bool<br>      }))<br>    }))<br>  })</pre> | `null` | no |
| node\_version | The Kubernetes version on the nodes. Must either be unset or set to the same value as min\_master\_version on create. Defaults to the default version set by GKE which is not necessarily the latest version. This only affects nodes in the default node pool. While a fuzzy version can be specified, it's recommended that you specify explicit versions as Terraform will see spurious diffs when fuzzy versions are used. See the google\_container\_engine\_versions data source's version\_prefix field to approximate fuzzy versions in a Terraform-compatible way. To update nodes in other node pools, use the version attribute on the node pool. | `string` | `null` | no |
| notification\_config | Configuration for the [cluster upgrade notifications](https://cloud.google.com/kubernetes-engine/docs/how-to/cluster-upgrade-notifications) feature. | <pre>object({<br>    pubsub = object({<br>      enabled = bool<br>      topic   = optional(string)<br>      filter = optional(object({<br>        event_type = optional(string)<br>      }))<br>    })<br>  })</pre> | `null` | no |
| pod\_autoscaling | Enable the Horizontal Pod Autoscaling profile for this cluster.Acceptable values are:'NONE' - Customers explicitly opt-out of HPA profiles, 'PERFORMANCE' - PERFORMANCE is used when customers opt-in to the performance HPA profile. In this profile we support a higher number of HPAs per cluster and faster metrics collection for workload autoscaling. See HPAProfile for more details. | <pre>object({<br>    hpa_profile = string<br>  })</pre> | `null` | no |
| pod\_security\_policy\_config | Configuration for the [PodSecurityPolicy](https://cloud.google.com/kubernetes-engine/docs/how-to/pod-security-policies) feature. | <pre>object({<br>    enabled = bool<br>  })</pre> | `null` | no |
| private\_cluster\_config | Configuration for private clusters, clusters with private nodes. | <pre>object({<br>    enable_private_nodes        = optional(bool)<br>    enable_private_endpoint     = optional(bool)<br>    master_ipv4_cidr_block      = optional(string)<br>    private_endpoint_subnetwork = optional(string)<br>    master_global_access_config = optional(object({<br>      enabled = optional(bool)<br>    }))<br>  })</pre> | <pre>{<br>  "enable_private_endpoint": true,<br>  "enable_private_nodes": true,<br>  "master_global_access_config": {<br>    "enabled": true<br>  }<br>}</pre> | no |
| private\_ipv6\_google\_access | The desired state of IPv6 access to Google Services. By default, no private IPv6 access to or from Google Services (all access will be via IPv4). | `string` | `null` | no |
| project | The ID of the project in which the resource belongs. If it is not provided, the provider project is used. | `string` | `null` | no |
| protect\_config | Enable GKE Protect workloads for this cluster. | <pre>object({<br>    workload_config = object({<br>      audit_mode = string<br>    })<br>    workload_vulnerability_mode = optional(string)<br>  })</pre> | `null` | no |
| release\_channel | Configuration for the release channel feature, which provides more control over automatic upgrades of your GKE clusters. | <pre>object({<br>    channel = optional(string)<br>  })</pre> | `null` | no |
| remove\_default\_node\_pool | If true, deletes the default node pool upon cluster creation. If you're using google\_container\_node\_pool resources with no default node pool, this should be set to true. | `bool` | `true` | no |
| resource\_labels | The GCE resource labels (a map of key/value pairs) to be applied to the cluster. Note: This field is non-authoritative, and will only manage the labels present in your configuration. Please refer to the field 'effective\_labels' for all of the labels present on the resource. | `map(string)` | `null` | no |
| resource\_usage\_export\_config | Configuration for the [ResourceUsageExportConfig](https://cloud.google.com/kubernetes-engine/docs/how-to/cluster-usage-metering) feature. | <pre>object({<br>    enable_network_egress_metering       = optional(bool)<br>    enable_resource_consumption_metering = optional(bool)<br>    bigquery_destination = object({<br>      dataset_id = string<br>    })<br>  })</pre> | `null` | no |
| secret\_manager\_config | Configuration for the SecretManagerConfig feature | <pre>object({<br>    enabled = bool<br>  })</pre> | `null` | no |
| security\_posture\_config | Security posture configuration for the cluster. mode - Sets the mode of the Kubernetes security posture API's off-cluster features. Available options include DISABLED, BASIC, and ENTERPRISE. vulnerability\_mode - Sets the mode of the Kubernetes security posture API's workload vulnerability scanning. Available options include VULNERABILITY\_DISABLED, VULNERABILITY\_BASIC and VULNERABILITY\_ENTERPRISE. | <pre>object({<br>    mode               = optional(string)<br>    vulnerability_mode = optional(string)<br>  })</pre> | `null` | no |
| service\_external\_ips\_config | Configuration for controlling how IPs are allocated to Service objects. | <pre>object({<br>    enabled = optional(bool)<br>  })</pre> | `null` | no |
| subnetwork | The name or self\_link of the Google Compute Engine subnetwork in which the cluster's instances are launched. | `string` | `null` | no |
| timeouts | Timeout for cluster operations. | <pre>object({<br>    create = optional(string)<br>    update = optional(string)<br>    delete = optional(string)<br>  })</pre> | <pre>{<br>  "create": "45m",<br>  "delete": "45m",<br>  "update": "45m"<br>}</pre> | no |
| vertical\_pod\_autoscaling | Vertical Pod Autoscaling automatically adjusts the resources of pods controlled by it. | <pre>object({<br>    enabled = optional(bool)<br>  })</pre> | `null` | no |
| workload\_alts\_config | Workload ALTS configuration for the cluster. Whether the alts handshaker should be enabled or not for direct-path. Requires Workload Identity (workloadPool) must be non-empty | <pre>object({<br>    enable_alts = bool<br>  })</pre> | `null` | no |
| workload\_identity\_config | Configuration for the use of Kubernetes Service Accounts in GCP IAM policies. | <pre>object({<br>    workload_pool = optional(string)<br>  })</pre> | `null` | no |

## Outputs

| Name | Description |
|------|-------------|
| addons\_config | The configuration for addons supported by GKE Autopilot. |
| ca\_certificate | Cluster ca certificate (base64 encoded) |
| cluster\_id | Cluster ID |
| cluster\_name | Cluster name |
| endpoint | Cluster endpoint |
| endpoint\_dns | Cluster endpoint DNS |
| horizontal\_pod\_autoscaling\_enabled | Whether horizontal pod autoscaling enabled |
| http\_load\_balancing\_enabled | Whether http load balancing enabled |
| identity\_service\_enabled | Whether Identity Service is enabled |
| intranode\_visibility\_enabled | Whether intra-node visibility is enabled |
| location | Cluster location (region if regional cluster, zone if zonal cluster) |
| logging\_service | Logging service used |
| master\_authorized\_networks\_config | Networks from which access to master is permitted |
| master\_version | Current master kubernetes version |
| min\_master\_version | Minimum master kubernetes version |
| monitoring\_service | Monitoring service used |
| network\_policy\_enabled | Whether network policy enabled |
| node\_locations | The list of zones in which the cluster's nodes are located. |
| secret\_manager\_addon\_enabled | Whether Secret Manager add-on is enabled |
| vertical\_pod\_autoscaling\_enabled | Whether vertical pod autoscaling enabled |

<!-- END OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
